<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
    body {
        background-color: #fff5f9;
    }
    .container {
        margin-top: 30px;
    }
    h3 {
        color: #ff6f91;
        font-weight: 700;
        margin-bottom: 30px;
    }
    .order-card {
        background: white;
        border: none;
        border-radius: 15px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
        overflow: hidden;
    }
    .order-header {
        background: linear-gradient(135deg, #ff8fab 0%, #ff6f91 100%);
        color: white;
        padding: 20px;
    }
    .order-id {
        font-size: 1.3rem;
        font-weight: bold;
    }
    .order-meta {
        display: flex;
        justify-content: space-between;
        flex-wrap: wrap;
        gap: 20px;
        padding: 0 20px;
        margin-top: 10px;
    }
    .meta-item {
        font-size: 0.9rem;
    }
    .meta-label {
        color: rgba(255, 255, 255, 0.8);
    }
    .order-body {
        padding: 20px;
    }
    .order-items {
        background-color: #f8f9fa;
        border-radius: 10px;
        padding: 15px;
        margin-bottom: 15px;
    }
    .item-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 0;
        border-bottom: 1px solid #e0e0e0;
    }
    .item-row:last-child {
        border-bottom: none;
    }
    .item-name {
        font-weight: 500;
    }
    .item-qty {
        background-color: #e3f2fd;
        padding: 5px 10px;
        border-radius: 5px;
        font-size: 0.9rem;
    }
    .item-price {
        font-weight: bold;
        color: #ff6f91;
    }
    .order-total {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background-color: #fff8dc;
        padding: 15px;
        border-radius: 10px;
        margin-bottom: 15px;
    }
    .total-label {
        font-weight: 600;
        color: #333;
    }
    .total-amount {
        font-size: 1.3rem;
        font-weight: bold;
        color: #ff6f91;
    }
    .payment-badge {
        display: inline-block;
        background-color: #e0f2f1;
        color: #00695c;
        padding: 8px 12px;
        border-radius: 8px;
        font-size: 0.9rem;
        font-weight: 500;
    }
    .empty-state {
        text-align: center;
        padding: 50px 20px;
    }
    .empty-state-icon {
        font-size: 4rem;
        margin-bottom: 20px;
    }
    .btn-back {
        background: linear-gradient(135deg, #ff8fab 0%, #ff6f91 100%);
        color: white;
        border: none;
        border-radius: 25px;
        padding: 10px 30px;
        font-weight: bold;
    }
    .btn-back:hover {
        background: linear-gradient(135deg, #ff6f91 0%, #ff5a7d 100%);
        color: white;
    }
</style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light sticky-top" style="background-color: #ffffff; box-shadow: 0 2px 15px rgba(255, 182, 193, 0.25);">
    <div class="container">
        <a class="navbar-brand" href="/" style="color: #ff6f91; font-weight: bold;">üíó ‡∏£‡πâ‡∏≤‡∏ô‡∏´‡∏ß‡∏≤‡∏ô‡∏•‡∏∞‡∏°‡∏∏‡∏ô</a>
    </div>
</nav>

<div class="container">
    <h3>üìã ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h3>

    {% if orders %}
        {% for order in orders %}
        <div class="order-card">
            <div class="order-header">
                <div class="order-id">‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ #{{ order.id }}</div>
                <div class="order-meta">
                    <div class="meta-item">
                        <span class="meta-label">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</span>
                        {{ order.created_at.strftime('%d/%m/%Y %H:%M') }}
                    </div>
                    <div class="meta-item">
                        <span class="payment-badge">{{ order.payment_method }}</span>
                    </div>
                </div>
            </div>

            <div class="order-body">
                <!-- ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ -->
                <div class="order-items">
                    {% for item in order.items %}
                    <div class="item-row">
                        <div>
                            <div class="item-name">{{ item.product_name }}</div>
                        </div>
                        <div class="item-qty">{{ item.quantity }} ‡∏ä‡∏¥‡πâ‡∏ô</div>
                        <div class="item-price">‡∏ø{{ "{:,.0f}".format(item.price * item.quantity) }}</div>
                    </div>
                    {% endfor %}
                </div>

                <!-- ‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏° -->
                <div class="order-total">
                    <span class="total-label">‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:</span>
                    <span class="total-amount">‡∏ø{{ "{:,.0f}".format(order.total_amount) }}</span>
                </div>
            </div>
        </div>
        {% endfor %}
    {% else %}
        <div class="empty-state">
            <div class="card p-5 shadow-sm">
                <div class="empty-state-icon">üì≠</div>
                <h4 style="color: #ff6f91;">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h4>
                <p class="text-muted mt-3">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏à‡∏≤‡∏Å‡∏£‡πâ‡∏≤‡∏ô‡πÄ‡∏£‡∏≤ ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡∏¢!</p>
                <a href="/" class="btn btn-back mt-3">
                    üõçÔ∏è ‡πÑ‡∏õ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
                </a>
            </div>
        </div>
    {% endif %}

    <div class="mt-4 mb-4">
        <a href="/" class="btn btn-back">
            ‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
        </a>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
